<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="col-md-6 m-auto pt-5">

                <h1>{{ 'signUp' | translate }}</h1>

                <!-- Custom Success/Error Message -->
                <div [ngClass]="messageClass">
                    {{ message }}
                </div>

                <!-- Registration Form -->
                <form [formGroup]="form" (submit)="onRegisterSubmit()">

                    <!-- Username Input -->
                    <div class="form-group">
                        <label for="username">{{"username" | translate}}</label>

                        <input type="text" name="username" class="form-control" autocomplete="off"
                               id="username" formControlName="username"
                               [ngClass]="{'is-invalid': (form.controls.username.errors && form.controls.username.dirty), 'is-valid': !form.controls.username.errors}"
                        />
                        <!-- Validation -->
                        <ul class="help-block">
                            <li *ngIf="form.controls.username.errors?.required && form.controls.username.dirty">
                                {{"required" | translate}}
                            </li>
                            <li *ngIf="form.controls.username.errors?.minlength && form.controls.username.dirty || form.controls.username.errors?.maxlength && form.controls.username.dirty ">
                                {{"usernameMinMax" | translate}}
                            </li>
                            <li *ngIf="form.controls.username.errors?.validateUsername && form.controls.username.dirty">
                                {{"usernameSpecCharacters" | translate}}
                            </li>
                        </ul>
                    </div>

                    <!-- Email Input -->
                    <div class="form-group">
                        <label for="email">Email</label>

                        <input type="email" name="email" class="form-control" autocomplete="off"
                               formControlName="email" id="email"
                               [ngClass]="{'is-invalid': form.controls.email.errors && form.controls.email.dirty, 'is-valid': form.controls.email.valid && form.controls.email.dirty }"
                        />
                        <!-- Validation -->
                        <ul class="help-block">
                            <li *ngIf="form.controls.email.errors?.required && form.controls.email.dirty">
                                {{"required" | translate}}
                            </li>
                            <li *ngIf="(form.controls.email.errors?.minlength && form.controls.email.dirty || form.controls.email.errors?.maxlength && form.controls.email.dirty ) && form.controls.email.dirty">
                                {{"emailMinMax" | translate}}
                            </li>
                            <li *ngIf="form.controls.email.errors?.validateEmail && form.controls.email.dirty">
                                {{"emailValid" | translate}}

                            </li>
                        </ul>
                    </div>

                    <!-- Password Input -->
                    <div class="form-group">
                        <label for="password"> {{"password" | translate}}</label>

                        <input type="password" name="password" class="form-control" autocomplete="off"
                               formControlName="password" id="password"
                               [ngClass]="{'is-invalid': (form.controls.password.errors && form.controls.password.dirty), 'is-valid': !form.controls.password.errors}"
                        />

                        <!-- Validation -->
                        <ul class="help-block">
                            <li *ngIf="form.controls.password.errors?.required && form.controls.password.dirty">
                                {{"required" | translate}}
                            </li>
                            <li *ngIf="form.controls.password.errors?.minlength && form.controls.password.dirty || form.controls.password.errors?.maxlength && form.controls.password.dirty ">
                                {{"passMinMax" | translate}}
                            </li>
                            <li *ngIf="form.controls.password.errors?.validatePassword && form.controls.password.dirty">
                                {{"passSpecCharacters" | translate}}
                            </li>
                        </ul>

                    </div>

                    <!-- Confirm Password Input -->
                    <div class="form-group">
                        <label for="confirm">{{"confirmPassword" | translate}}</label>

                        <input type="password" name="confirm" class="form-control" autocomplete="off"
                               formControlName="confirm" id="confirm"
                               [ngClass]="{'is-invalid': (form.controls.confirm.errors && form.controls.confirm.dirty) || (form.errors?.matchingPasswords && form.controls.confirm.dirty), 'is-valid': !form.controls.confirm.errors && !form.errors?.matchingPasswords}"
                        />
                        <!-- Validation -->
                        <ul class="help-block">
                            <li *ngIf="form.controls.confirm.errors?.required && form.controls.confirm.dirty">
                                {{"required" | translate}}
                            </li>
                            <li *ngIf="form.errors?.matchingPasswords && form.controls.confirm.dirty">
                                {{"confirmPass" | translate}}
                            </li>
                        </ul>
                    </div>

                    <input [disabled]="!form.valid || processing" type="submit"
                           class="btn btn-primary btn-block" value=" {{'signUp' | translate}}"
                    />
                </form>
            </div>
        </div>
    </div>
</div>
